"use strict";$(document).ready(function(){function t(t,e,a){var n=d3.select(a),o=$(a).outerWidth();n.select(".tt-season").text(e.season),n.select(".tt-opponent").text(e.opp),n.select(".tt-week").text(e.week),n.select(".tt-quarter").text(e.quarter),n.select(".tt-time").text(e.time),n.select(".tt-detail").text(e.detail);var r=$(window).width(),s=0;t.clientX>r/2.1?(s=t.clientX-(o+15),n.attr("class","tooltip left")):(s=t.clientX+20,n.attr("class","tooltip right"));var l=t.clientY-10;n.attr("style","left: "+s+"px; top: "+l+"px")}function e(t){console.log(t);var e={top:0,right:50,bottom:40,left:50},a=$("#graphic").width(),n=a/3,o=n>400?400:n,r=o/100*1.5,s=d3.scaleLinear().range([0,a-e.left-e.right]),l=d3.scaleLinear().range([o,0]);s.domain([0,100]),l.domain([o,0]);var i=d3.axisBottom().scale(s).tickValues([0,10,20,30,40,50,60,70,80,90,100]).tickFormat(function(t,e){return e<6?t:t-20*(e-5)}),c=d3.select("#graphic").data(t).append("svg").attr("width",a).attr("height",o+e.top+e.bottom),p=function(t){var e=s(t.spot).toString(),a=s(t.spot+ +t.yards).toString(),n=l(o).toString(),i=l(o-+t.yards/1.25*r).toString(),c=s(t.spot+ +t.yards/4).toString(),p=s(t.spot+ +t.yards-+t.yards/4).toString();return"M "+e+","+n+" C "+c+", "+i+" "+p+", "+i+" "+a+", "+n},d=c.selectAll("g").data(t).enter().append("g").attr("transform","translate( "+e.left+", "+e.top+" )");d.selectAll("path").data(function(t){return t.plays}).enter().append("path").attr("class",function(t){return t.touchdown===!0?"pass touchdown":"pass"}).attr("d",function(t){return p(t)});var u=c.append("g");u.append("line").attr("x1",0).attr("x2",a).attr("y1",o).attr("y2",o),c.append("g").attr("class","x axis").attr("transform","translate("+e.left+", "+o+")").call(i),c.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",s(50)+e.left).attr("y",o+35).attr("class","axis-label").text("Cowboys moving left to right")}function a(e){var a=d3.scaleLinear().domain([-10,100]).interpolate(d3.interpolateHcl).range([d3.rgb("#e9f4fd"),d3.rgb("#0b3f65")]),n=d3.select("#att-graphic").data(e),o=n.selectAll("div").data(e).enter().append("div").attr("class",function(t){return"season season-"+t.season_year+" clearfix"});o.append("span").attr("class","season-label").text(function(t){return console.log(t),t.season_year}),o.selectAll("attempt").data(function(t){return t.plays}).enter().append("span").attr("style",function(t){return"background-color: "+a(+t.yards)}).attr("class",function(t){return t.interception?"attempt interception":t.touchdown?"attempt touchdown":"incomplete"===t.result?"attempt incomplete":"attempt"}).text(function(t){return t.interception?"I":""}).on("mousemove",function(e){return t(event,e,"#att-tooltip")}).on("mouseout",function(){return d3.select("#att-tooltip").attr("class","tooltip noshow")})}var n=[];$.getJSON("../js/data.json",function(t){t.forEach(function(t){var e=t;e.plays=_.orderBy(t.plays,["week","quarter","sort_time"],["asc","asc","desc"]),n.push(e)}),e(n),a(n)})}),$(document).ready(function(){function t(){$(".open-list").removeClass("open-list"),$(".open-button").removeClass("open-button")}var e=new Date,a=e.getFullYear();$(".copyright").text(a);var n=$(".header-group button");n.click(function(e){n.hasClass("open-button")===!0&&$(this).hasClass("open-button")===!0?t():(t(),$(this).addClass("open-button"),$(this).siblings("ul").addClass("open-list")),e.stopPropagation()}),$("body").click(function(){t()}),document.cookie.indexOf("DMN-P")>=0?$("body").addClass("subscribed"):$("body").removeClass("subscribed")});
//# sourceMappingURL=scripts-bundle.js.map
