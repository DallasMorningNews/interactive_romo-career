"use strict";$(document).ready(function(){function t(t,e,a){var s=d3.select(a),n=$(a).outerWidth();s.select(".tt-season").text(e.season),s.select(".tt-opponent").text(e.opp),s.select(".tt-week").text(e.week),s.select(".tt-quarter").text(e.quarter),s.select(".tt-time").text(e.time),s.select(".tt-detail").text(e.detail);var o=$(window).width(),r=0;t.clientX>o/2.1?(r=t.clientX-(n-10),s.attr("class","tooltip")):(r=t.clientX-10,s.attr("class","tooltip"));var i=t.clientY+15;s.attr("style","left: "+r+"px; top: "+i+"px")}function e(t){console.log(t);var e={top:0,right:50,bottom:40,left:50},a=$("#graphic").width(),s=a/3,n=s>400?400:s,o=n/100*1.5,r=d3.scaleLinear().range([0,a-e.left-e.right]),i=d3.scaleLinear().range([n,0]);r.domain([0,100]),i.domain([n,0]);var l=d3.axisBottom().scale(r).tickValues([0,10,20,30,40,50,60,70,80,90,100]).tickFormat(function(t,e){return e<6?t:t-20*(e-5)}),c=d3.select("#graphic").data(t).append("svg").attr("width",a).attr("height",n+e.top+e.bottom),d=function(t){var e=r(t.spot).toString(),a=r(t.spot+ +t.yards).toString(),s=i(n).toString(),l=i(n-+t.yards/1.25*o).toString(),c=r(t.spot+ +t.yards/4).toString(),d=r(t.spot+ +t.yards-+t.yards/4).toString();return"M "+e+","+s+" C "+c+", "+l+" "+d+", "+l+" "+a+", "+s},p=c.selectAll("g").data(t).enter().append("g").attr("transform","translate( "+e.left+", "+e.top+" )");p.selectAll("path").data(function(t){return t.plays}).enter().append("path").attr("class",function(t){return t.touchdown===!0?"pass touchdown yr-"+t.season:"pass yr-"+t.season}).attr("d",function(t){return d(t)});var u=c.append("g");u.append("line").attr("x1",0).attr("x2",a).attr("y1",n).attr("y2",n),c.append("g").attr("class","x axis").attr("transform","translate("+e.left+", "+n+")").call(l),c.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",r(50)+e.left).attr("y",n+35).attr("class","axis-label").text("Cowboys moving left to right")}function a(e){var a=d3.scaleLinear().domain([-10,100]).interpolate(d3.interpolateHcl).range([d3.rgb("#e9f4fd"),d3.rgb("#0b3f65")]),s=d3.select("#att-graphic").data(e),n=s.selectAll("div").data(e).enter().append("div").attr("class",function(t){return"season season-"+t.season_year+" clearfix"});n.append("span").attr("class","season-label").text(function(t){return console.log(t),t.season_year}),n.selectAll("attempt").data(function(t){return t.plays}).enter().append("span").attr("style",function(t){return"background-color: "+a(+t.yards)}).attr("class",function(t){return t.interception?"attempt interception":t.touchdown?"attempt touchdown":"incomplete"===t.result?"attempt incomplete":"attempt"}).text(function(t){return t.interception?"I":""}).on("mousemove",function(e){return t(event,e,"#att-tooltip")}).on("mouseout",function(){return d3.select("#att-tooltip").attr("class","tooltip no-show")})}function s(t,e){$(".rec-stat").text(e);for(var a=_.orderBy(t,[e],["desc"]),s=0;s<10;s+=1){var n="<tr><td>"+a[s].receiver+"</td><td>"+a[s][e]+"</td></tr>";$("#rec-graphic tbody").append(n)}console.table(a)}var n=[],o=[];$(".chatter li").click(function(){$(this).hasClass("active")===!0?$(this).removeClass("active"):$(this).addClass("active"),o=[];for(var t=0;t<$(".active").length;t+=1)o.push($(".active").eq(t).text());$(".pass").addClass("no-show");for(var e=0;e<o.length;e+=1)$(".yr-"+o[e]).removeClass("no-show");"view-all"===$(this).attr("id")?($(this).siblings().removeClass("active"),$(this).addClass("active"),$(".pass").removeClass("no-show")):$("#view-all").removeClass("active")}),$(".tooltip button").click(function(){return $(".tooltip").addClass("no-show")}),$.getJSON("../js/data.json",function(t){t.forEach(function(t){var e=t;e.plays=_.orderBy(t.plays,["week","quarter","sort_time"],["asc","asc","desc"]),n.push(e)}),e(n),a(n)}),$.getJSON("../js/rec-data.json",function(t){s(t,"catches")})}),$(document).ready(function(){function t(){$(".open-list").removeClass("open-list"),$(".open-button").removeClass("open-button")}var e=new Date,a=e.getFullYear();$(".copyright").text(a);var s=$(".header-group button");s.click(function(e){s.hasClass("open-button")===!0&&$(this).hasClass("open-button")===!0?t():(t(),$(this).addClass("open-button"),$(this).siblings("ul").addClass("open-list")),e.stopPropagation()}),$("body").click(function(){t()}),document.cookie.indexOf("DMN-P")>=0?$("body").addClass("subscribed"):$("body").removeClass("subscribed")});
//# sourceMappingURL=scripts-bundle.js.map
